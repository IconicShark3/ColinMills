<h2 id="metric-mass-to-imperial-volume-converter">Metric Mass to Imperial Volume Converter</h2>
<form id="form">
    <p><label>
        Starting Value (no units): 
        <input type="text" name="Quantity" id="Quantity" required="" />
    </label></p>
    <p><label>
        <input type="radio" id="200" name="Direction" value="0" required="" />
        <label for="0">Mass (Grams) to Volume (Tbsp)</label><br />
        <input type="radio" id="201" name="Direction" value="1" required="" />
        <label for="0">Mass (Grams) to Volume (Cups)</label><br />
        <input type="radio" id="202" name="Direction" value="2" required="" />
        <label for="1">Volume (Tbsp) to Mass (Grams)</label><br />
        <input type="radio" id="203" name="Direction" value="3" required="" />
        <label for="1">Volume (Cups) to Mass (Grams)</label><br />
    </label></p>
    <div id="ingtitle">
        <h2>Ingredients:</h2>
    </div>
    <p>
        <button type="button" onclick="Calculate()">Convert!</button>
    </p>
</form>
<form>
    <p id="Output"></p>
    <h2> Add an Ingredient </h2>
    <p><label>
        Name: 
        <input type="text" name="Name" id="Name" required="" />
    </label></p>
    <p><label>
        Ratio (no units): 
        <input type="text" name="Ratio" id="Ratio" required="" />
    </label></p>
    <p>
        <button type="button" onclick="addingredient()">Add!</button>
    </p>
</form>
<script>
    var inglist={
        flour:14.78,
        sugar:23.51,
        salt:17.74,
        butter:13.47,
        milk:15.23
    }
    function addingredient() {
        var Name = document.getElementById('Name').value;
        var Ratio = document.getElementById('Ratio').value;
        inglist[Name] = Ratio;
        console.log(inglist)
        radiobuttons()
    }
    function radiobuttons() {
        const key = Object.keys(inglist);
        console.log(key);
        const value = Object.values(inglist);
        console.log(value);
        for ( i = 0; i < key.length; i++) {
            if (document.getElementById(i) == null) {
                console.log(i);
                thisvalue = value[i];
                console.log(thisvalue);
                var radio = document.createElement("input");
                console.log(radio);
                radio.setAttribute("type", "radio");
                console.log(radio);
                radio.setAttribute("id", i);
                console.log(radio);
                radio.setAttribute("name", "Ingredient");
                console.log(radio);
                radio.setAttribute("value", thisvalue);
                console.log(radio);
                document.getElementById('ingtitle').appendChild(radio);
                var label = document.createElement("label");
                label.innerHTML = key[i];
                document.getElementById('ingtitle').appendChild(label);
                var br = document.createElement("br");
                document.getElementById('ingtitle').appendChild(br);
            }
        }
    }
    radiobuttons();
    function Calculate() {
        var Dir;
        var Ing;
        var DirOpt = document.getElementsByName('Direction');
        for (i = 0; i < DirOpt.length; i++) {
            if (DirOpt[i].checked){
                Dir = DirOpt[i].value;
            } 
        }
        var i = 0
        var IngOpt = document.getElementsByName('Ingredient');
        console.log(IngOpt);
        for (i = 0; i < IngOpt.length; i++) {
            console.log(IngOpt[i])
            if (IngOpt[i].checked){
                console.log(IngOpt[i].value);
                Rto = IngOpt[i].value;
            }
        }
        var Mplier
        var Qty = document.getElementById('Quantity').value;
        console.log(Dir,Rto,Qty);
        if (Dir == 0) {
            Mplier = 1 / Rto;
        } else if (Dir == 1) {
            Mplier = 1 / (16 * Rto);
        } else if (Dir == 2) {
            Mplier = Rto / 1;
        } else {
            Mplier = (16 * Rto) / 1;
        }
        console.log(Mplier);
        var Output = Qty * Mplier;
        console.log(Output);
        if (Dir == 0) {
            Output = Output + ' Tablespoons';
        }else if (Dir == 1){
            Output = Output + ' Cups';
        }else{
            Output = Output + ' Grams';
        }
        document.getElementById("Output").innerHTML = Output;
    }
</script>

